import { Metadata } from '@grpc/grpc-js';
import { RpcException } from '@nestjs/microservices';
import { GrpcErrorCode } from '../constants';
import { GrpcConsumerError, GrpcExceptionOptions } from '../interfaces';
export declare const RETRYABLE_STATUS_CODES: GrpcErrorCode[];
export declare function getGrpcStatusDescription(code: number): string;
export declare function httpStatusToGrpcStatus(httpStatus: number): number;
export declare class GrpcConsumerException extends Error {
    readonly error: GrpcConsumerError;
    constructor(error: GrpcConsumerError);
    isRetryable(): boolean;
    getCode(): number;
    getDetails(): any;
    getMetadata(): any;
    getServiceName(): string;
    getMethodName(): string;
    getDuration(): number;
    getTimestamp(): Date;
}
export declare class GrpcConsumerErrorHandler {
    private readonly logger;
    handleError(error: any, serviceName: string, methodName: string, startTime: number): GrpcConsumerException;
    private extractGrpcError;
    private logError;
    isRetryableError(error: Error): boolean;
}
export declare class GrpcException extends RpcException {
    private readonly code;
    private readonly details;
    private readonly metadata;
    constructor(options: GrpcExceptionOptions | string);
    private static normalizeOptions;
    private static validateMetadata;
    getCode(): GrpcErrorCode;
    getDetails(): any;
    getMetadata(): Record<string, string | Buffer | string[] | Buffer[]>;
    toMetadata(): Metadata;
    getError(): any;
    static ok(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static cancelled(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static unknown(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static invalidArgument(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static deadlineExceeded(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static notFound(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static alreadyExists(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static permissionDenied(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static resourceExhausted(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static failedPrecondition(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static aborted(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static outOfRange(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static unimplemented(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static internal(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static unavailable(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static dataLoss(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
    static unauthenticated(message: string, details?: any, metadata?: Record<string, string | Buffer | string[] | Buffer[]>): GrpcException;
}
