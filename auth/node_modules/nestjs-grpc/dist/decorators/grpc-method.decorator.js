"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GrpcMethod = GrpcMethod;
const constants_1 = require("../constants");
function GrpcMethod(methodNameOrOptions) {
    const options = typeof methodNameOrOptions === 'string'
        ? { methodName: methodNameOrOptions }
        : (methodNameOrOptions ?? {});
    return (target, key, descriptor) => {
        if (!descriptor || typeof descriptor.value !== 'function') {
            throw new Error('@GrpcMethod can only be applied to methods');
        }
        options.methodName ?? (options.methodName = key.toString());
        if (!options.methodName || options.methodName.trim().length === 0) {
            throw new Error('Method name cannot be empty');
        }
        Reflect.defineMetadata(constants_1.GRPC_METHOD_METADATA, options, target, key);
        return descriptor;
    };
}
//# sourceMappingURL=grpc-method.decorator.js.map