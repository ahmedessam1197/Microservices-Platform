"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GrpcController = GrpcController;
const common_1 = require("@nestjs/common");
const constants_1 = require("../constants");
function GrpcController(serviceNameOrOptions) {
    const options = typeof serviceNameOrOptions === 'string'
        ? { serviceName: serviceNameOrOptions }
        : serviceNameOrOptions;
    if (!options.serviceName || typeof options.serviceName !== 'string') {
        throw new Error('Service name is required and must be a string');
    }
    if (options.serviceName.trim().length === 0) {
        throw new Error('Service name cannot be empty');
    }
    return (target) => {
        if (!target || typeof target !== 'function') {
            throw new Error('@GrpcController can only be applied to classes');
        }
        (0, common_1.Controller)()(target);
        (0, common_1.Injectable)()(target);
        (0, common_1.SetMetadata)(constants_1.GRPC_CONTROLLER_METADATA, options)(target);
        return target;
    };
}
//# sourceMappingURL=grpc-controller.decorator.js.map