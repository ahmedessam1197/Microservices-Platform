import * as grpc from '@grpc/grpc-js';
import { OnModuleInit, OnModuleDestroy } from '@nestjs/common';
import { GrpcOptions, ControllerMetadata } from '../interfaces';
import { GrpcProtoService } from './grpc-proto.service';
export declare class GrpcProviderService implements OnModuleInit, OnModuleDestroy {
    private readonly options;
    private readonly protoService;
    private readonly logger;
    private server;
    private isRunning;
    private readonly controllerInstances;
    private readonly registeredServices;
    private readonly pendingControllers;
    constructor(options: GrpcOptions, protoService: GrpcProtoService);
    onModuleInit(): Promise<void>;
    onModuleDestroy(): Promise<void>;
    getServer(): grpc.Server | null;
    isServerRunning(): boolean;
    getControllerInstances(): ReadonlyMap<string, any>;
    registerController(serviceName: string, instance: any, metadata: ControllerMetadata): void;
    private createServer;
    private registerPendingControllers;
    private addServiceToServer;
    private createMethodHandler;
    private findServiceDefinition;
    private startServer;
    private createServerCredentials;
    private stopServer;
    private convertToGrpcError;
    private validateMethods;
    private extractProtoMethods;
}
